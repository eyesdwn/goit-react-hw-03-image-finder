{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","helpers/imageAPI.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/ErrorNotification/ErrorNotification.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","fetchImages","query","page","axios","get","Searchbar","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","item","onClick","id","src","webformatURL","alt","tags","ImageGalleryItemImage","ImageGallery","items","openModal","length","map","key","Button","onLoadMore","Modal","handleESC","keyCode","onCloseModal","window","addEventListener","removeEventListener","imageId","images","largeImage","find","image","largeImageURL","Overlay","App","Style","Loader","color","height","width","timeout","ErrorNotification","text","isLoading","error","isModalOpen","imageAPI","then","res","prevState","data","hits","catch","finally","handleOpenModal","handleCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.50d50244.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};","import axios from 'axios';\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst key = \"15175045-77baaaeb3714f44ae698d8195\";\n\nexport const fetchImages = (query, page ) => axios.get(`${BASE_URL}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`);\n","import React, {Component} from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { query } = this.state;\n\n    onSubmit(query);\n\n    this.setState({\n      value: ''\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            value={query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\n","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport styles from \"../ImageGallery/ImageGallery.module.css\";\n\nconst ImageGalleryItem = ({ item, onClick}) => {\n    return (\n        <li\n           onClick={() => onClick(item.id)}\n           className={styles.ImageGalleryItem}\n        >\n           <img\n             src={item.webformatURL}\n             alt={item.tags}\n             className={styles.ImageGalleryItemImage}\n           />\n        </li>\n    );\n};\n\nImageGalleryItem.propTypes = {\n    item: PropTypes.shape({\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n      id: PropTypes.number,\n    }).isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ items, openModal }) => {\n    return (\n        <>\n           {items.length > 0 && (\n              <ul className={styles.ImageGallery}>\n                  {items.map(item => (\n                      <ImageGalleryItem\n                        item={item}\n                        onClick={openModal}\n                        key={item.id} />\n                  ))}\n              </ul>\n            )};\n        </>\n    );\n};\n\nImageGallery.propTypes = {\n    items: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n        }).isRequired,\n    ).isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => (\n    <button type=\"button\"\n            className={styles.Button}\n            onClick={onLoadMore}>\n        Load More\n    </button>\n);\n\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired\n};\n\nexport default Button;","import React, { Component } from \"react\";\nimport styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n    static propTypes = {\n        onCloseModal: PropTypes.func.isRequired,\n        imageId: PropTypes.number.isRequired,\n        images: PropTypes.array.isRequired,\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleESC);\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleESC);\n    };\n\n    handleESC = e => {\n        if(e.keyCode === 27) {\n            this.props.onCloseModal();\n        }\n    };\n\n\n    render() {\n        const { imageId, images, onCloseModal } = this.props;\n\n        const largeImage = images.find(image => {\n            if (image.id === imageId) {\n                return image.largeImageURL;\n            }\n        });\n\n        return (\n            <div className={styles.Overlay} onClick={onCloseModal}>\n              <div className={styles.Modal}>\n                <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n              </div>\n            </div>\n        );\n    };\n}\n","import React, { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Style from \"./Loader.module.css\";\n\nexport default class App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <div className={Style.Loader}>\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#FFB1B1\"\n          height={100}\n          width={100}\n          timeout={2000}\n        />\n      </div>\n    );\n  };\n}\n","import React from \"react\";\n\n\nconst ErrorNotification = ({ text }) => (\n  <h1>Whoops, something went wrong: {text}</h1>\n);\n\nexport default ErrorNotification;","import React, { Component } from \"react\";\nimport * as imageAPI from \"../../helpers/imageAPI\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport Loader from \"../Loader/Loader\";\nimport ErrorNotification from \"../ErrorNotification/ErrorNotification\";\nimport styles from \"./App.module.css\";\n\n\nexport default class App extends Component {\n    state = {\n        isLoading: false,\n        query: '',\n        images: [],\n        error: null,\n        page: 1,\n        isModalOpen: false,\n        imageId: null,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        const { page, query, images } = this.state;\n\n        if (prevState.query !== query || prevState.page !== page) {\n            this.fetchImages(query, page);\n        };\n\n        if (prevState.images !== images && images.length > 12) {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        };\n    };\n\n    fetchImages = (query, page) => {\n        this.setState({ isLoading: true});\n\n        imageAPI\n           .fetchImages(query, page)\n           .then(res => this.setState(prevState => ({\n               images: [...prevState.images, ...res.data.hits],\n           })),\n           )\n           .catch(error => this.setState({error}))\n           .finally(() => this.setState({ isLoading: false}));\n    };\n\n    handleSubmit = query => {\n        this.setState({\n            query,\n            images: [],\n            page: 1\n        });\n    };\n\n    onLoadMore = () => {\n      const { page } = this.state;\n\n      this.setState({\n          page: page + 1,\n          isLoading: true,\n        });\n    };\n\n    handleOpenModal = id => {\n        this.setState({\n          isModalOpen: true,\n          imageId: id,\n        });\n    };\n\n    handleCloseModal = e => {\n        this.setState({\n          isModalOpen: false,\n          imageId: '',\n        });\n    };\n\n\n    render() {\n        const { images, isLoading, error, isModalOpen, imageId } = this.state;\n\n        return (\n            <div className={styles.App}>\n                {isLoading && <Loader />}\n                <Searchbar onSubmit={this.handleSubmit} />\n                {isModalOpen && <Modal imageId={imageId} images={images} onCloseModal={this.handleCloseModal} />}\n                <ImageGallery items={images} openModal={this.handleOpenModal} />\n                {error && <ErrorNotification text={error.message} />}\n                {images.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n\n            </div>\n        );\n    };\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport styles from './index.module.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__17FjM\"};"],"sourceRoot":""}